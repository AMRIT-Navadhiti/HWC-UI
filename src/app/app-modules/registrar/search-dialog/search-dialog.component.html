<section id="searchDialog" class="container-fluid">
  <div class="row title info">
    <h4>{{ currentLanguageSet?.common?.advanceBeneficiarySearch }}</h4>
    <button
      class="pull-right close-btn"
      (click)="matDialogRef.close(false)"
      mat-icon-button
    >
      <mat-icon class="md-24">close</mat-icon>
    </button>
  </div>

  <mat-dialog-content>
    <form #newSearchForm="ngForm">
      <section class="row m-t-10">
        <div class="col-xs-12 col-sm-6 box">
          <mat-form-field [style.width]="'100%'">
            <input
              autocomplete="off"
              matInput
              allowText="alphabet"
              placeholder="{{
                currentLanguageSet?.ro?.personalInfo?.firstName
              }}"
              required="true"
              name="firstName"
              [(ngModel)]="beneficiary.firstName"
              #firstNameV="ngModel"
              minlength="2"
              maxlength="50"
            />
            <mat-error *ngIf="firstNameV?.errors?.['required']">{{
              currentLanguageSet?.common?.firstNameisrequired
            }}</mat-error>
            <mat-error *ngIf="firstNameV?.errors?.['minlength']">{{
              currentLanguageSet?.common?.pleaseprovideatleast2character
            }}</mat-error>
          </mat-form-field>
        </div>
        <div class="col-xs-12 col-sm-6 box">
          <mat-form-field myName [style.width]="'100%'">
            <input
              autocomplete="off"
              matInput
              allowText="alphaspace"
              placeholder="{{ currentLanguageSet?.ro?.personalInfo?.lastName }}"
              name="lastName"
              [(ngModel)]="beneficiary.lastName"
              #lastNameV="ngModel"
              minlength="1"
              maxlength="50"
            />
          </mat-form-field>
        </div>
        <div class="col-xs-12 col-sm-6 box">
          <mat-form-field [style.width]="'100%'">
            <input
              autocomplete="off"
              matInput
              allowText="alphabet"
              placeholder="{{ currentLanguageSet?.ro?.otherInfo?.fatherName }} "
              name="fatherName"
              [(ngModel)]="beneficiary.fatherName"
              #fatherNameV="ngModel"
              minlength="2"
              maxlength="50"
            />
            <mat-error *ngIf="fatherNameV?.errors?.['minlength']">{{
              currentLanguageSet?.common?.pleaseprovideatleast2character
            }}</mat-error>
          </mat-form-field>
        </div>
        <div class="col-xs-12 col-sm-6 box">
          <div class="select-container">
            <mat-select
              class="p-t-12"
              (change)="selectGender()"
              required
              [style.width]="'100%'"
              placeholder="{{ currentLanguageSet?.ro?.personalInfo?.gender }}"
              name="gender"
              [(ngModel)]="beneficiary.gender"
            >
              <mat-option
                *ngFor="let gender of masterData?.genderMaster"
                [value]="gender.genderID"
                >{{ gender.genderName }}
              </mat-option>
            </mat-select>
          </div>
        </div>
        <div class="col-xs-12 col-sm-6 box">
          <!-- <md2-datepicker [openOnFocus]="true" style="width:100%" name='dob' [(ngModel)]="beneficiary.dob" 
                        placeholder="{{currentLanguageSet?.dateOfBirth}}" [max]='today' ng-readonly="true" ></md2-datepicker> -->
          <mat-form-field class="input-full-width">
            <mat-label>
              {{ currentLanguageSet?.dateOfBirth }}
            </mat-label>
            <input
              matInput
              [matDatepicker]="picker"
              openOnFocus="true"
              name="dob"
              id="dob"
              [(ngModel)]="beneficiary.dob"
              placeholder="{{ currentLanguageSet?.dateOfBirth }}"
              formControlName="startDate"
              ng-readonly="true"
              max="today"
            />
            <mat-datepicker-toggle
              matPrefix
              [for]="picker"
            ></mat-datepicker-toggle>
            <mat-datepicker [style.width]="'100%'" #picker></mat-datepicker>
          </mat-form-field>
        </div>
      </section>
      <section class="row grayborder">
        <div class="col-xs-12 col-sm-6 box">
          <div class="select-container">
            <mat-select
              class="p-t-12"
              (change)="onStateChange()"
              [style.width]="'100%'"
              placeholder="
                        {{ currentLanguageSet?.ro?.locInfo?.state }}"
              name="stateID"
              [(ngModel)]="beneficiary.stateID"
            >
              <mat-option *ngFor="let state of states" [value]="state.stateID"
                >{{ state.stateName | titlecase }}
              </mat-option>
            </mat-select>
          </div>
        </div>
        <div class="col-xs-12 col-sm-6 box">
          <div class="select-container">
            <mat-select
              class="p-t-12"
              [style.width]="'100%'"
              placeholder="{{ currentLanguageSet?.travel?.district }}"
              name="districtID"
              [(ngModel)]="districtID"
              (change)="onDistrictChange()"
            >
              <mat-option
                *ngFor="let district of districts"
                [value]="district.districtID"
                >{{ district.districtName | titlecase }}
              </mat-option>
            </mat-select>
          </div>
        </div>

        <div class="col-xs-12 col-sm-6 box">
          <div class="select-container">
            <mat-select
              class="p-t-12"
              [style.width]="'100%'"
              (change)="onBlockChange()"
              placeholder="{{ currentLanguageSet?.block }}"
              name="blockID"
              [(ngModel)]="blockID"
            >
              <mat-option
                *ngFor="let block of blockList"
                [value]="block.blockID"
                >{{ block.blockName | titlecase }}
              </mat-option>
            </mat-select>
          </div>
        </div>

        <div class="col-xs-12 col-sm-6 box">
          <div class="select-container">
            <mat-select
              class="p-t-12"
              [style.width]="'100%'"
              placeholder="{{ currentLanguageSet?.village }}"
              name="villageID"
              [(ngModel)]="villageID"
            >
              <mat-option
                *ngFor="let village of villageList"
                [value]="village.districtBranchID"
                >{{ village.villageName | titlecase }}
              </mat-option>
            </mat-select>
          </div>
        </div>
      </section>
    </form>
  </mat-dialog-content>

  <mat-dialog-actions class="padding15 margin15 pull-right">
    <button
      class="full-width-login background-overall"
      type="button"
      mat-dialog-close
      (click)="matDialogRef.close(false)"
    >
      {{ currentLanguageSet?.common?.close }}
    </button>
    <button
      class="full-width-login button-reset"
      type="button"
      (click)="resetBeneficiaryForm()"
    >
      {{ currentLanguageSet?.common?.clear }}
    </button>
    <button
      [disabled]="newSearchForm.invalid"
      class="full-width-login background-overall button-search-disabled"
      type="button"
      (click)="getSearchResult(newSearchForm.value)"
    >
      {{ currentLanguageSet?.common?.search }}
    </button>
  </mat-dialog-actions>
  <div class="clearfix"></div>
</section>
