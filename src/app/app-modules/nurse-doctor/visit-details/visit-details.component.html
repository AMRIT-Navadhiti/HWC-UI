<mat-accordion [formGroup]="patientVisitForm">
  <mat-expansion-panel expanded="true">
    <mat-expansion-panel-header>
      <h5>{{ currentLanguageSet?.nurseData?.visitDetails }}</h5>
    </mat-expansion-panel-header>
    <patient-visit-details
      [mode]="mode"
      [patientVisitDetailsForm]="
        patientVisitForm.controls.patientVisitDetailsForm
      "
    ></patient-visit-details>
  </mat-expansion-panel>

  <mat-expansion-panel
    *ngIf="
      hideAll === true ||
      (showNcdScreeningVisit === true && enableCBACForm === true)
    "
  >
    <mat-expansion-panel-header>
      <h5>{{ currentLanguageSet?.cbacForm }}</h5>
    </mat-expansion-panel-header>
    <app-cbac
      [mode]="mode"
      [cbacScreeningForm]="patientVisitForm.controls.cbacScreeningForm"
    ></app-cbac>
  </mat-expansion-panel>

  <mat-expansion-panel
    *ngIf="
      hideAll === true ||
      showNcdScreeningVisit === true ||
      showANCVisit === true ||
      showPNCVisit === true ||
      showOPD === true ||
      showFamilyPlanning === true ||
      showChildAndAdolescent === true
    "
  >
    <mat-expansion-panel-header>
      <h5>{{ currentLanguageSet?.covidVaccinationStatus }}</h5>
    </mat-expansion-panel-header>
    <app-covid-vaccination-status
      [covidVaccineStatusForm]="
        patientVisitForm.controls.covidVaccineStatusForm
      "
    ></app-covid-vaccination-status>
  </mat-expansion-panel>

  <mat-expansion-panel
    *ngIf="
      hideAll === true ||
      showANCVisit === true ||
      showPNCVisit === true ||
      showOPD === true ||
      showFamilyPlanning === true ||
      showNeonatalVisit === true ||
      showChildAndAdolescent === true
    "
  >
    <mat-expansion-panel-header>
      <h5>
        {{
          currentLanguageSet?.nurseData?.chiefComplaintsDetails?.chiefComplaints
        }}
      </h5>
    </mat-expansion-panel-header>
    <patient-chief-complaints
      [mode]="mode"
      [patientChiefComplaintsForm]="
        patientVisitForm.controls.patientChiefComplaintsForm
      "
    ></patient-chief-complaints>
  </mat-expansion-panel>

  <mat-expansion-panel *ngIf="visitCategory && isCdssStatus">
    <mat-expansion-panel-header>
      <h5>{{ currentLanguageSet?.nurseData?.chiefComplaintsDetails?.cdss }}</h5>
    </mat-expansion-panel-header>
    <h5>{{ currentLanguageSet?.previousvisit?.ChiefComplaint104 }}</h5>
    <app-cdss-form
      [mode]="mode"
      [presentChiefComplaintDb]="
        patientVisitForm.controls.cdssForm.controls.presentChiefComplaintDb
      "
    ></app-cdss-form>
    <h5>
      {{
        currentLanguageSet?.nurseData?.chiefComplaintsDetails?.diseaseSummary
      }}
    </h5>
    <app-diseaseSummary-form
      [mode]="mode"
      [diseaseSummaryDb]="
        patientVisitForm.controls.cdssForm.controls.diseaseSummaryDb
      "
    ></app-diseaseSummary-form>
  </mat-expansion-panel>

  <mat-expansion-panel
    *ngIf="
      ((showANCVisit === true ||
        showPNCVisit === true ||
        showOPD === true ||
        showFamilyPlanning === true) &&
        visitReason !== undefined &&
        visitReason !== null &&
        visitReason === 'Follo===================w Up') ||
      hideAll === true ||
      showNCDCare
    "
  >
    <mat-expansion-panel-header>
      <h5>{{ currentLanguageSet?.nurseData?.adherenceDetails?.adherence }}</h5>
    </mat-expansion-panel-header>
    <patient-adherence
      [mode]="mode"
      [patientAdherenceForm]="patientVisitForm.controls.patientAdherenceForm"
    ></patient-adherence>
  </mat-expansion-panel>

  <mat-expansion-panel
    *ngIf="hideAll === true || showANCVisit === true || showNCDCare"
  >
    <mat-expansion-panel-header>
      <h5>
        {{
          currentLanguageSet?.nurseData?.investigationsDetails?.investigations
        }}
      </h5>
    </mat-expansion-panel-header>
    <patient-investigations
      [mode]="mode"
      [patientInvestigationsForm]="
        patientVisitForm.controls.patientInvestigationsForm
      "
    ></patient-investigations>
  </mat-expansion-panel>

  <mat-expansion-panel *ngIf="hideAll === true || showCOVID">
    <mat-expansion-panel-header>
      <h5>
        {{
          currentLanguageSet?.ExaminationData?.cancerScreeningExamination
            ?.symptoms?.symptoms
        }}
      </h5>
    </mat-expansion-panel-header>
    <symptoms
      [mode]="mode"
      [patientCovidForm]="patientVisitForm.controls.patientCovidForm"
    ></symptoms>
  </mat-expansion-panel>
  <mat-expansion-panel *ngIf="hideAll === true || showCOVID">
    <mat-expansion-panel-header>
      <h5>{{ currentLanguageSet?.contactHistory }}</h5>
    </mat-expansion-panel-header>
    <contact-history
      [mode]="mode"
      [patientCovidForm]="patientVisitForm.controls.patientCovidForm"
    ></contact-history>
  </mat-expansion-panel>
  <mat-expansion-panel *ngIf="hideAll === true || showCOVID">
    <mat-expansion-panel-header>
      <h5>{{ currentLanguageSet?.covid?.travelHistory }}</h5>
    </mat-expansion-panel-header>
    <travel-history
      [mode]="mode"
      [patientCovidForm]="patientVisitForm.controls.patientCovidForm"
      (outputToParent)="getSymptomVal($event)"
    ></travel-history>
  </mat-expansion-panel>
  <mat-expansion-panel
    *ngIf="hideAll === true || showNcdScreeningVisit === true"
  >
    <mat-expansion-panel-header>
      <h5 *ngIf="enableCBACForm === true">
        {{ currentLanguageSet?.existingNCDDisease }}
      </h5>
      <h5 *ngIf="enableCBACForm === false">
        {{
          currentLanguageSet?.nurseData?.visitDetailsForm?.diseaseConfirmation
        }}
      </h5>
    </mat-expansion-panel-header>
    <diseaseconfirmation
      [mode]="mode"
      [idrsOrCbac]="idrsOrCbac"
      [diseaseFormsGroup]="patientVisitForm.controls.patientDiseaseForm"
    ></diseaseconfirmation>
  </mat-expansion-panel>
  <mat-expansion-panel *ngIf="visitCategory">
    <mat-expansion-panel-header>
      <h5>
        {{ currentLanguageSet?.nurseData?.visitDetailsForm?.uploadFiles }}
      </h5>
    </mat-expansion-panel-header>
    <patient-upload-files
      [mode]="mode"
      [enableFileSelection]="enableFileSelection"
      [patientFileUploadDetailsForm]="
        patientVisitForm.controls.patientFileUploadDetailsForm
      "
    ></patient-upload-files>
  </mat-expansion-panel>
</mat-accordion>
