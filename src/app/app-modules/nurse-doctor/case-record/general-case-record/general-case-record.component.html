<mat-accordion [formGroup]="generalCaseRecordForm">
  <mat-expansion-panel expanded="true">
    <mat-expansion-panel-header>
      <h5>
        {{
          current_language_set?.Significantfindingsdetails
            ?.previoussignificantfindings
        }}
      </h5>
    </mat-expansion-panel-header>
    <app-previous-significiant-findings></app-previous-significiant-findings>
  </mat-expansion-panel>

  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <h5>{{ current_language_set?.previousvisit?.Previousvisitdetails }}</h5>
    </mat-expansion-panel-header>
    <app-previous-visit-details
      [currentVitals]="currentVitals"
    ></app-previous-visit-details>
  </mat-expansion-panel>

  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <h5>{{ current_language_set?.Find?.findings }}</h5>
    </mat-expansion-panel-header>
    <app-findings
      [caseRecordMode]="caseRecordMode"
      [generalFindingsForm]="generalCaseRecordForm.controls.generalFindingsForm"
    ></app-findings>
  </mat-expansion-panel>

  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <h5>{{ current_language_set?.casesheet?.diagnosis }}</h5>
    </mat-expansion-panel-header>
    <app-diagnosis
      [caseRecordMode]="caseRecordMode"
      [generalDiagnosisForm]="
        generalCaseRecordForm.controls.generalDiagnosisForm
      "
      [visitCategory]="visitCategory"
    ></app-diagnosis>
  </mat-expansion-panel>

  <mat-expansion-panel
    *ngIf="
      visitReason === 'Follow Up' &&
      visitCategory === 'FP & Contraceptive Services'
    "
  >
    <mat-expansion-panel-header>
      <h5>{{ current_language_set?.treatmentOnSideEffects }}</h5>
    </mat-expansion-panel-header>
    <app-treatments-on-side-effects
      [caseRecordMode]="caseRecordMode"
      [treatmentsOnSideEffectsForm]="
        generalCaseRecordForm.controls.treatmentsOnSideEffectsForm
      "
    ></app-treatments-on-side-effects>
  </mat-expansion-panel>

  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <h5>
        {{
          current_language_set?.nurseData?.investigationsDetails?.investigations
        }}
      </h5>
    </mat-expansion-panel-header>
    <app-doctor-investigations
      [caseRecordMode]="caseRecordMode"
      [visitCategory]="visitCategory"
      [generalDoctorInvestigationForm]="
        generalCaseRecordForm.controls.generalDoctorInvestigationForm
      "
    ></app-doctor-investigations>
  </mat-expansion-panel>

  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <h5>{{ current_language_set?.casesheet?.prescribe }}</h5>
    </mat-expansion-panel-header>
    <app-prescription
      [caseRecordMode]="caseRecordMode"
      [drugPrescriptionForm]="
        generalCaseRecordForm.controls.drugPrescriptionForm
      "
      [provideCounselling]="provideCounselling"
    ></app-prescription>
  </mat-expansion-panel>

  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <h5>{{ current_language_set?.common?.report }}</h5>
    </mat-expansion-panel-header>
    <app-test-and-radiology></app-test-and-radiology>
  </mat-expansion-panel>
</mat-accordion>
